# Quantum-Aero F1 Prototype Setup Guide**Complete guide to deploy the GenAI-powered multi-agent aerodynamic optimization platform**---## ­ƒôï Table of Contents1. [System Requirements](#system-requirements)2. [Quick Start](#quick-start)3. [Detailed Setup](#detailed-setup)4. [Agent Deployment](#agent-deployment)5. [Frontend Integration](#frontend-integration)6. [Verification & Testing](#verification--testing)7. [Monitoring Setup](#monitoring-setup)8. [Troubleshooting](#troubleshooting)---## ­ƒûÑ´©Å System Requirements### Hardware**Minimum (Development):**- CPU: 8 cores- RAM: 16 GB- GPU: NVIDIA RTX 3060 (6GB VRAM) or better- Storage: 100 GB SSD**Recommended (Production):**- CPU: 16+ cores- RAM: 64 GB- GPU: NVIDIA RTX 4070/4090 (12GB+ VRAM)- Storage: 500 GB NVMe SSD### Software- **OS:** Ubuntu 22.04 LTS or later- **Docker:** 24.0+ with Docker Compose v2- **NVIDIA Drivers:** 535+ with CUDA 12.3+- **Python:** 3.11+- **Node.js:** 18+- **Git:** Latest---## ­ƒÜÇ Quick Start (5 Minutes)```bash# 1. Clone repositorygit clone https://github.com/your-org/Quantum-Aero-F1-Prototype.gitcd Quantum-Aero-F1-Prototype# 2. Set up environmentcp agents/.env.example agents/.env# Edit agents/.env and add your ANTHROPIC_API_KEY# 3. Start core infrastructuredocker-compose -f docker-compose.agents.yml up -d nats mongodb redis qdrant# 4. Start agentsdocker-compose -f docker-compose.agents.yml up -d master-orchestrator ml-agent# 5. Verifycurl http://localhost:6001/health# Expected: {"status": "healthy"}```---## ­ƒôª Detailed Setup### Step 1: Install Prerequisites#### Ubuntu 22.04```bash# Update systemsudo apt update && sudo apt upgrade -y# Install Dockercurl -fsSL https://get.docker.com -o get-docker.shsudo sh get-docker.shsudo usermod -aG docker $USER# Install Docker Composesudo apt install docker-compose-plugin# Install NVIDIA Container Toolkitdistribution=$(. /etc/os-release;echo $ID$VERSION_ID)curl -s -L https://nvidia.github.io/libnvidia-container/gpgkey | sudo apt-key add -curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \  sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.listsudo apt-get updatesudo apt-get install -y nvidia-container-toolkitsudo systemctl restart docker# Verify GPU accessdocker run --rm --gpus all nvidia/cuda:12.3.0-base-ubuntu22.04 nvidia-smi# Install Python 3.11sudo apt install python3.11 python3.11-venv python3-pip# Install Node.js 18curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -sudo apt-get install -y nodejs```### Step 2: Get Anthropic API Key1. Sign up at https://console.anthropic.com/2. Navigate to API Keys3. Create new key4. Copy key (starts with `sk-ant-...`)### Step 3: Configure Environment```bash# Agent configurationcd agentscp .env.example .env# Edit .envnano .env```Add your configuration:```bash# RequiredANTHROPIC_API_KEY=sk-ant-your-actual-key-here# Optional (defaults work for local development)NATS_URL=nats://localhost:4222MONGODB_URI=mongodb://localhost:27017/qaeroREDIS_URL=redis://localhost:6379ML_SERVICE_URL=http://localhost:8000PHYSICS_SERVICE_URL=http://localhost:8001QUANTUM_SERVICE_URL=http://localhost:8002```### Step 4: Install Python Dependencies```bash# Create virtual environmentpython3.11 -m venv venvsource venv/bin/activate# Install dependenciespip install -r agents/requirements.txt# Verify installationpython -c "import anthropic; print('Ô£ô Anthropic SDK installed')"python -c "import langgraph; print('Ô£ô LangGraph installed')"python -c "import nats; print('Ô£ô NATS client installed')"```### Step 5: Install Frontend Dependencies```bashcd frontendnpm install# Verifynpm list react react-markdown```---## ­ƒñû Agent Deployment### Option A: Docker Compose (Recommended for Production)```bash# Build all agent imagesdocker-compose -f docker-compose.agents.yml build# Start infrastructure servicesdocker-compose -f docker-compose.agents.yml up -d nats mongodb redis qdrant# Wait for services to be ready (30 seconds)sleep 30# Start agentsdocker-compose -f docker-compose.agents.yml up -d \  master-orchestrator \  ml-agent \  quantum-agent \  physics-agent \  analysis-agent# View logsdocker-compose -f docker-compose.agents.yml logs -f master-orchestrator# Check statusdocker-compose -f docker-compose.agents.yml ps```### Option B: Local Development (Recommended for Testing)```bash# Terminal 1: Start NATSdocker-compose -f docker-compose.agents.yml up nats# Terminal 2: Master Orchestratorcd agentssource venv/bin/activatepython -m master_orchestrator.agent# Terminal 3: ML Surrogate Agentcd agentssource venv/bin/activatepython -m ml_surrogate.agent# Terminal 4: (Optional) Other agentscd agentssource venv/bin/activatepython -m quantum_optimizer.agent```---## ­ƒÄ¿ Frontend Integration### Step 1: Add Claude Chat to Frontend```bashcd frontend/src# Files already created:# - components/claude/ClaudeChat.tsx# - components/claude/ClaudeChat.css# - hooks/useAnthropic.ts```### Step 2: Update App.tsx```typescript// frontend/src/App.tsximport React from 'react';import { ClaudeChat } from './components/claude/ClaudeChat';function App() {  return (    <div className="App">      <div className="claude-chat-panel">        <ClaudeChat          initialContext={{            mesh_id: "wing_v3.2",            parameters: { velocity: 250, yaw: 0 }          }}        />      </div>    </div>  );}export default App;```### Step 3: Add Backend Proxy (Backend API)```javascript// services/backend/routes/claude.jsconst express = require('express');const router = express.Router();const fetch = require('node-fetch');// Stream endpointrouter.post('/stream', async (req, res) => {  const { messages, context } = req.body;  // Set up SSE  res.setHeader('Content-Type', 'text/event-stream');  res.setHeader('Cache-Control', 'no-cache');  res.setHeader('Connection', 'keep-alive');  try {    // Forward to Master Orchestrator Agent    const response = await fetch('http://master-orchestrator:6001/stream', {      method: 'POST',      headers: { 'Content-Type': 'application/json' },      body: JSON.stringify({ messages, context })    });    // Stream response to client    response.body.on('data', (chunk) => {      res.write(`data: ${chunk}\n\n`);    });    response.body.on('end', () => {      res.write('data: [DONE]\n\n');      res.end();    });  } catch (error) {    res.write(`data: ${JSON.stringify({ type: 'error', error: error.message })}\n\n`);    res.end();  }});module.exports = router;```### Step 4: Start Frontend```bashcd frontendnpm run dev# Access at http://localhost:3000```---## Ô£à Verification & Testing### 1. Check Infrastructure Health```bash# NATScurl http://localhost:8222/healthz# Expected: ok# MongoDBdocker exec qaero-mongodb mongosh --eval "db.adminCommand('ping')"# Expected: { ok: 1 }# Redisdocker exec qaero-redis redis-cli ping# Expected: PONG# Qdrantcurl http://localhost:6333/collections# Expected: {"result": {...}}```### 2. Test Agent Communication```bash# Install NATS CLIbrew install nats-io/nats-tools/nats# orwget https://github.com/nats-io/natscli/releases/download/v0.1.1/nats-0.1.1-linux-amd64.tar.gztar -xzf nats-0.1.1-linux-amd64.tar.gzsudo mv nats /usr/local/bin/# Test NATS connectivitynats account info --server=nats://localhost:4222# Subscribe to agent eventsnats sub "events.>" --server=nats://localhost:4222# In another terminal, publish test eventnats pub events.test '{"message": "Hello from NATS"}' --server=nats://localhost:4222```### 3. Test Master Orchestrator```bash# Health checkcurl http://localhost:6001/health# Test query (requires backend endpoint)curl -X POST http://localhost:4000/api/claude/message \  -H "Content-Type: application/json" \  -d '{    "messages": [      {"role": "user", "content": "What is the L/D ratio?"}    ],    "context": {}  }'```### 4. Test ML Agent via NATS```bash# Request predictionnats req agent.ml.predict '{  "mesh_id": "wing_test",  "parameters": {"velocity": 250, "yaw": 0},  "model_preference": "auto"}' --server=nats://localhost:4222 --timeout=10s```### 5. Frontend Chat Test1. Open http://localhost:30002. You should see the Claude Chat interface3. Try: "Explain what downforce is"4. Verify streaming response appears---## ­ƒôè Monitoring Setup### 1. Access Grafana```bash# Open Grafanaopen http://localhost:3001# Login: admin / admin (change on first login)```### 2. Configure Data SourcesGrafana ÔåÆ Configuration ÔåÆ Data Sources ÔåÆ Add:1. **Prometheus**   - URL: `http://prometheus:9090`   - Click "Save & Test"### 3. Import DashboardsDashboards are pre-configured in `agents/observability/grafana-dashboards/`Or import manually:- Go to Dashboards ÔåÆ Import- Upload JSON files from `agents/observability/grafana-dashboards/`### 4. View MetricsKey dashboards:- **Agent Performance** - Request latency, throughput- **Claude API Usage** - Token consumption, cost tracking- **NATS Messaging** - Message queue health- **System Health** - CPU, memory, GPU usage---## ­ƒÉø Troubleshooting### Issue: Agent containers exit immediately```bash# Check logsdocker-compose -f docker-compose.agents.yml logs master-orchestrator# Common causes:# 1. Missing ANTHROPIC_API_KEYdocker-compose -f docker-compose.agents.yml exec master-orchestrator env | grep ANTHROPIC# 2. NATS not readydocker-compose -f docker-compose.agents.yml ps nats# Solution: Restart agents after NATS is healthydocker-compose -f docker-compose.agents.yml restart master-orchestrator```### Issue: "Claude API Error: 401 Unauthorized"```bash# Verify API key is set correctlyecho $ANTHROPIC_API_KEY# Test API key directlycurl https://api.anthropic.com/v1/messages \  -H "x-api-key: $ANTHROPIC_API_KEY" \  -H "anthropic-version: 2023-06-01" \  -H "content-type: application/json" \  -d '{    "model": "claude-sonnet-4.5-20250929",    "max_tokens": 10,    "messages": [{"role": "user", "content": "Hi"}]  }'```### Issue: NATS connection refused```bash# Ensure NATS is runningdocker-compose -f docker-compose.agents.yml up -d nats# Check NATS logsdocker-compose -f docker-compose.agents.yml logs nats# Test connectiontelnet localhost 4222```### Issue: Frontend can't connect to backend```bash# Check backend is runningcurl http://localhost:4000/health# Verify CORS settings in backend# services/backend/app.js should have:app.use(cors({  origin: 'http://localhost:3000',  credentials: true}));```### Issue: GPU not detected in ML service```bash# Verify NVIDIA driversnvidia-smi# Check Docker GPU accessdocker run --rm --gpus all nvidia/cuda:12.3.0-base-ubuntu22.04 nvidia-smi# Restart Docker with NVIDIA runtimesudo systemctl restart docker```---## ­ƒÄô Next Steps1. **Read Documentation**   - `Quantum Aero F1 Prototype GENAI Claude BOOSTED.md` - Complete GenAI architecture   - `Q-Aero Integration.md` - Full system integration guide2. **Try Example Queries**   - "Optimize this wing for maximum downforce"   - "Analyze pressure distribution on the front wing"   - "Compare this design with baseline"3. **Implement Additional Agents**   - Follow patterns in `agents/master_orchestrator/` and `agents/ml_surrogate/`   - Add to `docker-compose.agents.yml`4. **Scale for Production**   - Increase agent replicas in docker-compose   - Set up Kubernetes (see `Quantum Aero F1 Prototype GENAI Claude BOOSTED.md`)   - Configure load balancing5. **Monitor & Optimize**   - Track token usage in Grafana   - Optimize prompts for cost   - Implement caching strategies---## ­ƒô× Support- **Issues:** https://github.com/your-org/Quantum-Aero-F1-Prototype/issues- **Documentation:** See project README and docs/- **Claude API:** https://docs.anthropic.com/claude/docs---**­ƒÄë Congratulations! Your AI-native aerodynamic optimization platform is ready!**